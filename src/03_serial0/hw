#define TXD0 37
#define RXD0 36

// Initialize UART0
HardwareSerial MySerial(0);

void setup() {
  // Serial for debug (usually USB or another UART)
  Serial.begin(115200);
  // UART0 on pins 37 (TXD0) and 36 (RXD0)
  MySerial.begin(115200, SERIAL_8N1, RXD0, TXD0);
  Serial.println("ESP32-S3 UART0 Test on pins 37(TX) and 36(RX)");
}

void loop() {
  // Send incrementing value every second
  static int counter = 0;
  MySerial.println(String(counter));
  Serial.println("Sent to UART0: " + String(counter));
  counter++;

  // Echo received data
  if (MySerial.available()) {
    String received = MySerial.readStringUntil('\n');
    Serial.println("Received from UART0: " + received);
  }
  delay(1000);
}

